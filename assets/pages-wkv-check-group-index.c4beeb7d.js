import{_ as e,o as t,c as o,w as l,f as a,t as n,n as p,i as s,r as u,j as c,u as r,a as i,F as m,b as h,m as d,d as f,e as k,h as v}from"./index-96c5d632.js";import{r as g}from"./uni-app.es.4a5812e0.js";import{_}from"./wk-section.70e01cf8.js";const b=e({__name:"wkv-check-item",props:{option:Object,labelProps:{type:String,default:"label"},checked:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:u}){const c=e,r=()=>{u("change",!c.checked,c.option)},i=()=>{var e;if(c.option&&(null==(e=c.option)?void 0:e[c.labelProps]))return c.option[c.labelProps]};return(u,c)=>{const m=s;return t(),o(m,{class:p({"wkv-check-item":!0,"wkv-check-item--hidden":!e.option,"wkv-check-item--checked":e.checked}),onClick:r},{default:l((()=>[a(n(i()),1)])),_:1},8,["class"])}}},[["__scopeId","data-v-b21039ff"]]),y=e({__name:"wkv-check-group",props:{options:{type:Array,default:()=>[],required:!0},optionProps:{type:Object,default:()=>({label:"label",value:"value"})},columnCount:{type:Number,default:0},gap:{type:Number,default:8},multiple:{type:[Boolean,Number],default:!1}},emits:["change","extra"],setup(e,{emit:a}){const n=e,p=u([]),f=c((()=>new Set(p.value.map((e=>e[n.optionProps.value]))))),k=c((()=>{if(n.columnCount<=0)return[];const e=Math.ceil(n.options.length/n.columnCount),t=Array.from({length:e},(()=>[]));return t.forEach(((e,t)=>{for(let o=0;o<n.columnCount;o++)e.push(n.options[t*n.columnCount+o])})),t})),v=c((()=>{const e=n.gap;return{width:`calc(100% + ${e}px)`,marginRight:`-${e}px`,marginBottom:`-${e}px`}})),g=c((()=>{const e=n.gap;return{marginRight:`${e}px`,marginBottom:`${e}px`}})),_=(e,t)=>{if(n.multiple||p.value.splice(0),e&&"number"==typeof n.multiple&&n.multiple<=p.value.length)return a("extra",n.multiple,`最多选中 ${n.multiple} 个选项`);e?p.value.push(t):p.value.splice(p.value.indexOf(t),1),a("change",n.multiple?p.value:p.value[0])};return(a,n)=>{const p=s;return t(),o(p,{class:"wkv-check-group",style:d(r(v))},{default:l((()=>[r(k).length?(t(!0),i(m,{key:0},h(r(k),((a,n)=>(t(),o(p,{class:"check-row",key:n},{default:l((()=>[(t(!0),i(m,null,h(a,(l=>(t(),o(b,{class:"check-row__item",option:l,style:d(r(g)),"label-prop":e.optionProps.label,checked:l&&r(f).has(l[e.optionProps.value]),onChange:_},null,8,["option","style","label-prop","checked"])))),256))])),_:2},1024)))),128)):(t(!0),i(m,{key:1},h(e.options,(l=>(t(),o(b,{option:l,style:d(r(g)),"label-prop":e.optionProps.label,checked:r(f).has(l[e.optionProps.value]),onChange:_},null,8,["option","style","label-prop","checked"])))),256))])),_:1},8,["style"])}}},[["__scopeId","data-v-87ac8c48"]]),w=e(f({__name:"index",setup(e){const n=(e=3)=>{const t=[];for(let o=0;o<e;o++)t.push({label:`选项${o}`,value:o});return t},p=e=>{uni.wkv.showToast(e)};return(e,u)=>{const c=g(v("wkv-check-group"),y),r=s;return t(),o(r,{class:"wkv-check-group-example"},{default:l((()=>[k(_,null,{default:l((()=>[a("单选")])),_:1}),k(c,{options:n()},null,8,["options"]),k(_,null,{default:l((()=>[a("多选")])),_:1}),k(c,{multiple:"",options:n()},null,8,["options"]),k(_,null,{default:l((()=>[a("限制具体数量")])),_:1}),k(c,{multiple:3,onExtra:p,options:n(10)},null,8,["options"]),k(_,null,{default:l((()=>[a("限制单行展示数量")])),_:1}),k(c,{columnCount:3,options:n(8)},null,8,["options"])])),_:1})}}}),[["__scopeId","data-v-33328bf4"]]);export{w as default};
