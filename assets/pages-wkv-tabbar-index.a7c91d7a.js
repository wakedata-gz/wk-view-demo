import{_ as e}from"./wk-section.70e01cf8.js";import{_ as t,r as a,j as i,v as n,z as o,x as c,o as s,c as l,w as d,e as r,m as p,a as v,F as _,b,n as m,u,f as x,t as g,A as f,q as h,i as y,d as I,s as k,k as w,p as C,h as z}from"./index-96c5d632.js";import{r as S}from"./uni-app.es.4a5812e0.js";import{_ as D}from"./wkv-button.f2b9427d.js";const F=t({__name:"wkv-tabbar",props:{tabs:{type:Array,required:!0},activeIndex:{type:Number,required:!0},bgColor:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:"#999999"},navHeight:{type:String,default:"49px"},fontSize:{type:String,default:"10px"},iconSize:{type:String,default:"26px"},fixedBottom:{type:Boolean,default:!0},redDots:{type:Object,default:()=>({visible:!1,index:0,type:"dots",count:0}),validator:e=>{if(!e.visible)return!0;let t;return t=["number","dots"].includes(e.type)&&"index"in e,t||console.error("red-dots 属性传值示例： { visible: true, index: 0, type: 'number|dots', count: 1  }"),t}}},emits:["tabClick","update:activeIndex"],setup(e,{emit:t}){const I=e,k=a("0px"),w=i({get:()=>I.activeIndex??0,set:e=>t("update:activeIndex",e)});return n((()=>I.fixedBottom),(e=>{o({success:t=>{const a=-1!==t.model.indexOf("iPhone")&&e?t.safeAreaInsets.bottom:0;k.value=a+"px"}})}),{immediate:!0}),c((()=>{})),(a,i)=>{const n=f,o=h,c=y;return s(),l(c,{class:m(["wkv-tabbar",{"wkv-tabbar__fixed-bottom":e.fixedBottom}]),style:p({"--wkv-tab-active-color":e.activeColor,"--wkv-tab-inactive-color":e.inactiveColor,"--wkv-tab-bg-color":e.bgColor,"--dot-number-margin-right":e.redDots.count>9?"-14px":"-6px"})},{default:d((()=>[r(c,{class:"wkv-tabbar__area",style:p({height:e.navHeight})},{default:d((()=>[(s(!0),v(_,null,b(e.tabs,((a,i)=>(s(),l(c,{key:i,class:m(["wkv-tabbar__item",{active:u(w)===i}]),style:p({fontSize:e.fontSize}),onClick:e=>(e=>{w.value=e,t("tabClick",I.tabs[e],e)})(i)},{default:d((()=>[r(n,{src:u(w)===i?a.activeIcon:a.inactiveIcon,"dot-count":e.redDots.count,class:m(["wkv-tabbar__icon",{"wkv-tabbar__dot":e.redDots.visible&&i===e.redDots.index&&"dots"===e.redDots.type,"wkv-tabbar__dot-number":e.redDots.visible&&i===e.redDots.index&&"number"===e.redDots.type&&e.redDots.count>0}]),style:p({width:e.iconSize,height:e.iconSize})},null,8,["src","dot-count","class","style"]),r(o,null,{default:d((()=>[x(g(a.label),1)])),_:2},1024)])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["style"]),r(c,{style:p({height:u(k)})},null,8,["style"])])),_:1},8,["class","style"])}}},[["__scopeId","data-v-e225dfde"]]),j=t(I({__name:"index",setup(t){const i=a(0),n=a(1),o=a(2),c=a(3),p=k({fixed:!1,text:"固定底部"}),v=k({visible:!0,index:1,type:"number",count:6}),_=()=>{p.fixed=!p.fixed,p.text=p.fixed?"取消固定":"固定底部"},b=(e,t)=>{console.log("点击了:",e)};return(t,a)=>{const m=S(z("wk-section"),e),u=S(z("wkv-button"),D),f=y,h=S(z("wkv-tabbar"),F);return s(),l(f,{class:"wkv-tabbar-example"},{default:d((()=>[r(m,null,{default:d((()=>[x("默认：")])),_:1}),r(f,null,{default:d((()=>[r(u,{size:"small",type:"primary",onClick:_},{default:d((()=>[x(g(p.text),1)])),_:1}),r(u,{size:"small",type:"primary",onClick:a[0]||(a[0]=e=>{v.visible=!v.visible})},{default:d((()=>[x(g(v.visible?"关闭红点":"红点提示"),1)])),_:1}),v.visible?(s(),l(u,{key:0,size:"small",type:"secondary",onClick:a[1]||(a[1]=e=>{"number"===v.type?v.type="dots":v.type="number"})},{default:d((()=>[x(g("number"===v.type?"普通红点提示":"数字红点提示"),1)])),_:1})):w("",!0)])),_:1}),C("div",{style:{height:"10px"}}),r(h,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"red-dots":v,"fixed-bottom":p.fixed,"active-index":i.value,"onUpdate:activeIndex":a[2]||(a[2]=e=>i.value=e),onTabClick:b},null,8,["tabs","red-dots","fixed-bottom","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改字体颜色：")])),_:1}),r(h,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"fixed-bottom":!1,"active-index":n.value,"onUpdate:activeIndex":a[3]||(a[3]=e=>n.value=e),"active-color":"#FF0000","inactive-color":"#666666",onTabClick:b},null,8,["tabs","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改高度/图标/字体大小：")])),_:1}),r(h,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面4",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"active-index":o.value,"onUpdate:activeIndex":a[4]||(a[4]=e=>o.value=e),"fixed-bottom":!1,"nav-height":"60px","font-size":"14px","icon-size":"30px",onTabClick:b},null,8,["tabs","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改背景颜色：")])),_:1}),r(h,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面4",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面5",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"fixed-bottom":!1,"active-index":c.value,"onUpdate:activeIndex":a[5]||(a[5]=e=>c.value=e),"bg-color":"#FFFF00",onTabClick:b},null,8,["tabs","active-index"])])),_:1})}}}),[["__scopeId","data-v-a5890149"]]);export{j as default};
