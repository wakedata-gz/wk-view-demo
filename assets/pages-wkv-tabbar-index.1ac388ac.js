import{_ as e}from"./wk-section.de985070.js";import{_ as t,r as i,j as a,s as n,y as o,v as c,o as s,c as l,w as d,e as r,m as v,u as p,a as b,F as _,b as m,n as u,f as x,t as g,z as h,A as f,i as y,d as I,q as k,k as w,p as C,h as z}from"./index-7021cc54.js";import{r as S}from"./uni-app.es.80ff61f5.js";import{_ as D}from"./wkv-button.a80a4faa.js";import"./wkv-icons.049c7af5.js";const j=t({__name:"wkv-tabbar",props:{tabs:{type:Array,required:!0},activeIndex:{type:Number,required:!0},bgColor:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:"#999999"},navHeight:{type:[Number,String],default:49},fontSize:{type:[Number,String],default:10},iconSize:{type:[Number,String],default:26},fixedBottom:{type:Boolean,default:!0},redDots:{type:Object,default:()=>({visible:!1,index:0,type:"dots",count:0}),validator:e=>{if(!e.visible)return!0;let t;return t=["number","dots"].includes(e.type)&&"index"in e,t||console.error("red-dots 属性传值示例： { visible: true, index: 0, type: 'number|dots', count: 1  }"),t}}},emits:["tabClick","update:activeIndex"],setup(e,{emit:t}){const I=e,k=i("0px"),w=a({get:()=>I.activeIndex??0,set:e=>t("update:activeIndex",e)}),C=a((()=>uni.$wkv.addUnit(I.navHeight))),z=a((()=>uni.$wkv.addUnit(I.fontSize))),S=a((()=>uni.$wkv.addUnit(I.iconSize)));return n((()=>I.fixedBottom),(e=>{o({success:t=>{const i=-1!==t.model.indexOf("iPhone")&&e?t.safeAreaInsets.bottom:0;k.value=i+"px"}})}),{immediate:!0}),c((()=>{})),(i,a)=>{const n=h,o=f,c=y;return s(),l(c,{class:u(["wkv-tabbar",{"wkv-tabbar__fixed-bottom":e.fixedBottom}]),style:v({"--wkv-tab-active-color":e.activeColor,"--wkv-tab-inactive-color":e.inactiveColor,"--wkv-tab-bg-color":e.bgColor,"--dot-number-margin-right":e.redDots.count>9?"-14px":"-6px"})},{default:d((()=>[r(c,{class:"wkv-tabbar__area",style:v({height:p(C)})},{default:d((()=>[(s(!0),b(_,null,m(e.tabs,((i,a)=>(s(),l(c,{key:a,class:u(["wkv-tabbar__item",{active:p(w)===a}]),style:v({fontSize:p(z)}),onClick:e=>(e=>{w.value=e,t("tabClick",I.tabs[e],e)})(a)},{default:d((()=>[r(n,{src:p(w)===a?i.activeIcon:i.inactiveIcon,"dot-count":e.redDots.count,class:u(["wkv-tabbar__icon",{"wkv-tabbar__dot":e.redDots.visible&&a===e.redDots.index&&"dots"===e.redDots.type,"wkv-tabbar__dot-number":e.redDots.visible&&a===e.redDots.index&&"number"===e.redDots.type&&e.redDots.count>0}]),style:v({width:p(S),height:p(S)})},null,8,["src","dot-count","class","style"]),r(o,null,{default:d((()=>[x(g(i.label),1)])),_:2},1024)])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["style"]),r(c,{style:v({height:p(k)})},null,8,["style"])])),_:1},8,["class","style"])}}},[["__scopeId","data-v-9db71e41"]]),F=t(I({__name:"index",setup(t){const a=i(0),n=i(1),o=i(2),c=i(3),v=k({fixed:!1,text:"固定底部"}),p=k({visible:!0,index:1,type:"number",count:6}),b=()=>{v.fixed=!v.fixed,v.text=v.fixed?"取消固定":"固定底部"},_=(e,t)=>{console.log("点击了:",e)};return(t,i)=>{const m=S(z("wk-section"),e),u=S(z("wkv-button"),D),h=y,f=S(z("wkv-tabbar"),j);return s(),l(h,{class:"wkv-tabbar-example"},{default:d((()=>[r(m,null,{default:d((()=>[x("默认：")])),_:1}),r(h,null,{default:d((()=>[r(u,{size:"small",type:"primary",onClick:b},{default:d((()=>[x(g(v.text),1)])),_:1}),r(u,{size:"small",type:"primary",onClick:i[0]||(i[0]=e=>p.visible=!p.visible)},{default:d((()=>[x(g(p.visible?"关闭红点":"红点提示"),1)])),_:1}),p.visible?(s(),l(u,{key:0,size:"small",type:"secondary",onClick:i[1]||(i[1]=e=>"number"===p.type?p.type="dots":p.type="number")},{default:d((()=>[x(g("number"===p.type?"普通红点提示":"数字红点提示"),1)])),_:1})):w("",!0)])),_:1}),C("div",{style:{height:"10px"}}),r(f,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"red-dots":p,"fixed-bottom":v.fixed,"active-index":a.value,"onUpdate:activeIndex":i[2]||(i[2]=e=>a.value=e),onTabClick:_},null,8,["tabs","red-dots","fixed-bottom","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改字体颜色：")])),_:1}),r(f,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"fixed-bottom":!1,"active-index":n.value,"onUpdate:activeIndex":i[3]||(i[3]=e=>n.value=e),"active-color":"#FF0000","inactive-color":"#666666",onTabClick:_},null,8,["tabs","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改高度/图标/字体大小：")])),_:1}),r(f,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面4",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"active-index":o.value,"onUpdate:activeIndex":i[4]||(i[4]=e=>o.value=e),"fixed-bottom":!1,"nav-height":"60px","font-size":"14px","icon-size":"30px",onTabClick:_},null,8,["tabs","active-index"]),C("div",{style:{height:"30px"}}),r(m,null,{default:d((()=>[x("修改背景颜色：")])),_:1}),r(f,{tabs:[{label:"页面1",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面2",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面3",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面4",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"},{label:"页面5",activeIcon:"/static/icon_home_pressed.png",inactiveIcon:"/static/icon_home_normal.png"}],"fixed-bottom":!1,"active-index":c.value,"onUpdate:activeIndex":i[5]||(i[5]=e=>c.value=e),"bg-color":"#FFFF00",onTabClick:_},null,8,["tabs","active-index"])])),_:1})}}}),[["__scopeId","data-v-79dc8194"]]);export{F as default};
